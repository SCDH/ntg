

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; NTG 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="NTG Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> NTG
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#web-application">Web Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#preparing-the-database-for-the-cbgm">Preparing the Database for the CBGM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#applying-the-cbgm">Applying the CBGM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-apparatus">Updating the Apparatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install-linux.html">Installation on Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#install-prerequisites">Install Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#database-access">Database Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#application-server">Application server</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#cbgm">CBGM</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#run-server">Run Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#build-and-run-client">Build and run client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install-docker.html">Installation with Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#running-the-web-application">Running the web application</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#running-the-cbgm">Running the CBGM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user.html">User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client_user.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_user.html">Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server_user.html#server-main-py">server/__main__.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scripts_user.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-import-py">scripts/cceh/import.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-prepare-py">scripts/cceh/prepare.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-cbgm-py">scripts/cceh/cbgm.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-save-edits-py">scripts/cceh/save_edits.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-load-edits-py">scripts/cceh/load_edits.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-mk-users-py">scripts/cceh/mk_users.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="domain.html">Introduction to the Problem Domain (German)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="domain.html#das-neue-testament">Das Neue Testament</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#editionen">Editionen</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#die-textzeugen">Die Textzeugen</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#textformen-texttypen">Textformen (Texttypen)</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#textkritik">Textkritik</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#terminologie">Terminologie</a></li>
<li class="toctree-l3"><a class="reference internal" href="domain.html#literatur">Literatur</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="client_dev.html">Web Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-app">client/app</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-apparatus">client/apparatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-coherence">client/coherence</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-comparison">client/comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-comparison-details-table">client/comparison_details_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-comparison-table">client/comparison_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-d3-chord-layout">client/d3_chord_layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-d3-common">client/d3_common</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-d3-stemma-layout">client/d3_stemma_layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-find-relatives">client/find_relatives</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-flash-messages">client/flash_messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-leitzeile">client/leitzeile</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-local-stemma">client/local_stemma</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-notes">client/notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-notes-list">client/notes_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-optimal-substemma">client/optimal_substemma</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-optimal-substemma-details">client/optimal_substemma_details</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-page-header">client/page_header</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-project-list">client/project_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-relatives-metrics">client/relatives_metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-relatives-table">client/relatives_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-set-cover">client/set_cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-table-sort-mixin">client/table_sort_mixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-table-toggle-mixin">client/table_toggle_mixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-textflow">client/textflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-tools">client/tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-autocomplete">client/widgets/autocomplete</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-button-group">client/widgets/button_group</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-card">client/widgets/card</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-card-caption">client/widgets/card_caption</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-connectivity">client/widgets/connectivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-context-menu">client/widgets/context_menu</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-dropdown-mixin">client/widgets/dropdown_mixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-labezator">client/widgets/labezator</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-navigator">client/widgets/navigator</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-range">client/widgets/range</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#client-widgets-toolbar">client/widgets/toolbar</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server_dev.html">API Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.main">server.main</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.textflow">server.textflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.comparison">server.comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.set_cover">server.set_cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.editor">server.editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.login">server.login</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.helpers">server.helpers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scripts_dev.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.import">scripts.cceh.import</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.prepare">scripts.cceh.prepare</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.cbgm">scripts.cceh.cbgm</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.save_edits">scripts.cceh.save_edits</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.load_edits">scripts.cceh.load_edits</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.mk_users">scripts.cceh.mk_users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#cbgm-database">CBGM Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#source-database">Source Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#literature">Literature</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ntg_common.html">Various Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ntg_common.html#module-ntg_common.db_tools">ntg_common.db_tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="ntg_common.html#module-ntg_common.tools">ntg_common.tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NTG</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>A program suite for doing CBGM.</p>
<p>The CBGM is a method for inferring global manuscript stemmata from local
stemmata in the manuscripts’ texts.</p>
<div class="figure align-center" id="id1">
<div class="graphviz"><img src="_images/graphviz-69d0f2cc874fcae87828bb3864194d548c3923c0.png" alt="strict digraph G {
	graph [bb=&quot;0,0,220,175&quot;,
		fontname=&quot;LiberationSans-Regular&quot;,
		fontsize=10.5,
		nodesep=0.2,
		ordering=out,
		rankdir=TB,
		ranksep=0.4,
		remincross=true,
		size=11.85
	];
	node [height=0.3,
		label=&quot;\N&quot;,
		margin=0.005,
		shape=ellipse,
		width=0.3
	];
	edge [arrowhead=normal,
		arrowtail=none,
		labelangle=-15.0,
		labeldistance=2.0
	];
	&quot;*&quot;	 [clique=0,
		droptarget=1,
		height=0.30556,
		label=&quot;*&quot;,
		labez=&quot;*&quot;,
		labez_clique=&quot;*&quot;,
		pos=&quot;47,164&quot;,
		width=0.30556];
	a	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=a,
		labez=a,
		labez_clique=a,
		pos=&quot;47,113&quot;,
		width=0.30556];
	&quot;*&quot; -&gt; a	 [pos=&quot;e,47,124.04 47,152.61 47,147.21 47,140.42 47,134.05&quot;];
	&quot;?&quot;	 [clique=0,
		droptarget=1,
		height=0.30556,
		label=&quot;?&quot;,
		labez=&quot;?&quot;,
		labez_clique=&quot;?&quot;,
		pos=&quot;173,164&quot;,
		width=0.30556];
	a2	 [clique=2,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=a2,
		labez=a,
		labez_clique=a2,
		pos=&quot;137,113&quot;,
		width=0.30556];
	&quot;?&quot; -&gt; a2	 [pos=&quot;e,143.2,122.44 166.73,154.46 161.93,147.93 155.16,138.71 149.29,130.72&quot;];
	c3	 [clique=3,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=c3,
		labez=c,
		labez_clique=c3,
		pos=&quot;173,113&quot;,
		width=0.30556];
	&quot;?&quot; -&gt; c3	 [pos=&quot;e,173,124.04 173,152.61 173,147.21 173,140.42 173,134.05&quot;];
	d3	 [clique=3,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=d3,
		labez=d,
		labez_clique=d3,
		pos=&quot;209,113&quot;,
		width=0.30556];
	&quot;?&quot; -&gt; d3	 [pos=&quot;e,202.8,122.44 179.27,154.46 184.07,147.93 190.84,138.71 196.71,130.72&quot;];
	b	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=b,
		labez=b,
		labez_clique=b,
		pos=&quot;11,62&quot;,
		width=0.30556];
	a -&gt; b	 [pos=&quot;e,17.199,71.437 40.729,103.46 35.928,96.93 29.156,87.712 23.287,79.725&quot;];
	c	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=c,
		labez=c,
		labez_clique=c,
		pos=&quot;47,62&quot;,
		width=0.30556];
	a -&gt; c	 [pos=&quot;e,47,73.042 47,101.61 47,96.209 47,89.424 47,83.053&quot;];
	d	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=d,
		labez=d,
		labez_clique=d,
		pos=&quot;83,62&quot;,
		width=0.30556];
	a -&gt; d	 [pos=&quot;e,76.801,71.437 53.271,103.46 58.072,96.93 64.844,87.712 70.713,79.725&quot;];
	c2	 [clique=2,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=c2,
		labez=c,
		labez_clique=c2,
		pos=&quot;119,62&quot;,
		width=0.30556];
	a2 -&gt; c2	 [pos=&quot;e,122.58,72.754 133.53,102.55 131.42,96.797 128.64,89.233 126.08,82.263&quot;];
	d2	 [clique=2,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=d2,
		labez=d,
		labez_clique=d2,
		pos=&quot;155,62&quot;,
		width=0.30556];
	a2 -&gt; d2	 [pos=&quot;e,151.42,72.754 140.47,102.55 142.58,96.797 145.36,89.233 147.92,82.263&quot;];
	e	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=e,
		labez=e,
		labez_clique=e,
		pos=&quot;47,11&quot;,
		width=0.30556];
	c -&gt; e	 [pos=&quot;e,47,22.042 47,50.608 47,45.209 47,38.424 47,32.053&quot;];
	f	 [clique=1,
		draggable=1,
		droptarget=1,
		height=0.30556,
		label=f,
		labez=f,
		labez_clique=f,
		pos=&quot;83,11&quot;,
		width=0.30556];
	d -&gt; f	 [pos=&quot;e,83,22.042 83,50.608 83,45.209 83,38.424 83,32.053&quot;];
}" class="graphviz" /></div>
<p class="caption"><span class="caption-text">An example of a local stemma</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>In the CBGM we assume that a manuscript is prior to another manuscript if it
contains a greater percentage of prior readings than posterior readings.  Then
we build a global stemma of manuscripts by using the most similar prior
manuscripts as the parent manuscript.</p>
<p>The program suite consists of:</p>
<ol class="arabic simple">
<li><p>a web application, and</p></li>
<li><p>a set of scripts to manipulate the CBGM database.</p></li>
</ol>
<div class="section" id="web-application">
<h2>Web Application<a class="headerlink" href="#web-application" title="Permalink to this headline">¶</a></h2>
<p>The web application consists of a <a class="reference internal" href="client_dev.html#module-client" title="client: Web Client"><code class="xref py py-mod docutils literal notranslate"><span class="pre">web</span> <span class="pre">client</span></code></a> and an <a class="reference internal" href="server_dev.html#module-server" title="server: Flask Driver Module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">API</span>
<span class="pre">server</span></code></a>. The client runs in the user’s browser.  The API server runs on
a dedicated web server.  It can manage multiple databases.</p>
<div class="figure align-center" id="id2">
<p class="plantuml">
<img src="_images/plantuml-01237eb012b2c8173db215c2581ef249c4e9bec7.png" alt="skinparam backgroundColor transparent

component &quot;Web Client&quot; as client
component &quot;API Server&quot; as api
database &quot;Acts&quot; as db1
database &quot;John&quot; as db2
database &quot;Mark&quot; as db3

client &lt;--&gt; api
api &lt;--&gt; db1
api &lt;--&gt; db2
api &lt;--&gt; db3"/>
</p>
<p class="caption"><span class="caption-text">Web Application</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="preparing-the-database-for-the-cbgm">
<h2>Preparing the Database for the CBGM<a class="headerlink" href="#preparing-the-database-for-the-cbgm" title="Permalink to this headline">¶</a></h2>
<p>Currently we host the CBGM for three books, namely Acts, John and Mark, by
different editorial teams and in different stages of completion.  Each book gets
its own database.</p>
<p>As raw input we use the database that contains the apparatus of the <em>Editio
Critica Maior</em> publication.  Supplemental data comes from a database of
editorial decisions (VarGen) regarding the priority of the readings.  The Nestle
database contains the “Leitzeile”.</p>
<p>The <a class="reference internal" href="scripts_user.html#import-py"><span class="std std-ref">scripts/cceh/import.py</span></a> script imports the mysql databases into the postgres database
and the <a class="reference internal" href="scripts_user.html#prepare-py"><span class="std std-ref">scripts/cceh/prepare.py</span></a> script transforms the structure of the database into one
suitable for doing the CBGM.</p>
<p>This process needs to be done only once.</p>
<div class="figure align-center" id="id3">
<p class="plantuml">
<img src="_images/plantuml-c89d2b0a3a3db24c84927d45a2a4fbee99ec50d2.png" alt="skinparam backgroundColor transparent

database  &quot;ECM&quot;        as dbsrc1
database  &quot;VarGen&quot;     as dbsrc2
database  &quot;Nestle&quot;     as dbsrc3
component &quot;import.py&quot;  as import
database  &quot;Acts&quot;       as db
component &quot;prepare.py&quot; as prepare

dbsrc1  --&gt; import
dbsrc2  --&gt; import
dbsrc3  --&gt; import
import  --&gt; prepare
prepare --&gt; db"/>
</p>
<p class="caption"><span class="caption-text">Database Preparation for CBGM</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The databases for John and Mark are imported in a similar way.  Each team has a
different workflow, and uses a different structure in their input databases.
The import script tries to accomodate all those differences.</p>
</div>
<div class="section" id="applying-the-cbgm">
<h2>Applying the CBGM<a class="headerlink" href="#applying-the-cbgm" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="scripts_user.html#cbgm-py"><span class="std std-ref">scripts/cceh/cbgm.py</span></a> script recalculates the CBGM.  Whenever a local stemma changes,
the CBGM coefficients have to be recalculated.  This process must be run
immediately after the <a class="reference internal" href="scripts_user.html#prepare-py"><span class="std std-ref">scripts/cceh/prepare.py</span></a> script.</p>
<p>To take the project from one phase to the next, make a copy of the database and
run this process on the new database.</p>
<div class="figure align-center" id="id4">
<p class="plantuml">
<img src="_images/plantuml-73be789f634c5e1b9f57e8aa17cee5205c69e691.png" alt="skinparam backgroundColor transparent

component &quot;cbgm script&quot; as cbgm
database  &quot;Acts&quot;        as db

db -&gt; cbgm
db &lt;- cbgm"/>
</p>
<p class="caption"><span class="caption-text">Applying the CBGM</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="updating-the-apparatus">
<h2>Updating the Apparatus<a class="headerlink" href="#updating-the-apparatus" title="Permalink to this headline">¶</a></h2>
<p>If the apparatus needs an update the whole CBGM database must be rebuilt from
scratch, the CBGM process must be run and the editorial decisions have to be
transferred to the new database:</p>
<ol class="arabic simple">
<li><p>the <a class="reference internal" href="scripts_user.html#save-edits-py"><span class="std std-ref">scripts/cceh/save_edits.py</span></a> script is used to save the editorial decisions,</p></li>
<li><p>the <a class="reference internal" href="scripts_user.html#import-py"><span class="std std-ref">scripts/cceh/import.py</span></a> and <a class="reference internal" href="scripts_user.html#prepare-py"><span class="std std-ref">scripts/cceh/prepare.py</span></a> scripts are used to import and prepare a new
apparatus, and</p></li>
<li><p>the <a class="reference internal" href="scripts_user.html#cbgm-py"><span class="std std-ref">scripts/cceh/cbgm.py</span></a> script is run to apply the CBGM to the new data, and finally</p></li>
<li><p>the <a class="reference internal" href="scripts_user.html#load-edits-py"><span class="std std-ref">scripts/cceh/load_edits.py</span></a> script is used to restore the editorial decisions into
the new database.</p></li>
</ol>
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<p>The application is online at: <a class="reference external" href="http://ntg.cceh.uni-koeln.de/acts/ph4/">http://ntg.cceh.uni-koeln.de/acts/ph4/</a></p>
<p>The source code is online at: <a class="reference external" href="https://github.com/cceh/ntg">https://github.com/cceh/ntg</a></p>
<p>Author: Marcello Perathoner &lt;<a class="reference external" href="mailto:marcello&#46;perathoner&#37;&#52;&#48;uni-koeln&#46;de">marcello<span>&#46;</span>perathoner<span>&#64;</span>uni-koeln<span>&#46;</span>de</a>&gt;</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="NTG Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-19 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>